@attribute [Route(Routes.Ships)]
@inherits FluxorComponent

<MudStack Class="pa-4">
    <MudStack Row AlignItems="AlignItems.End">
        <MudText Typo="Typo.h3">Ships</MudText>
        <MudSpacer />
    </MudStack>

    @if (ShipState.Value.IsLoading)
    {
        <MudProgressCircular Indeterminate
                             Class="ma-auto"
                             Size="Size.Large" />
    }
    else if (ShipState.Value.Ships.Any())
    {
        <MudTable Items="@ShipState.Value.Ships" Hover>
            <HeaderContent>
                <MudTh>Symbol</MudTh>
                <MudTh>Role</MudTh>
                <MudTh>System</MudTh>
                <MudTh>Waypoint</MudTh>
                <MudTh>Nav status</MudTh>
                <MudTh>Flight mode</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Symbol">
                    <MudLink Href="@RouteHelpers.Ship(context.Symbol)" Typo="Typo.body1">@context.Symbol</MudLink>
                </MudTd>
                <MudTd DataLabel="Role">
                    <MudText Typo="Typo.body1">@context.Role</MudText>
                </MudTd>
                <MudTd DataLabel="System">
                    <MudText Typo="Typo.body1">@context.Nav.SystemSymbol</MudText>
                </MudTd>
                <MudTd DataLabel="Waypoint">
                    <MudLink Href="@RouteHelpers.Waypoint(WaypointsHelpers.GetSystemFromWaypoint(context.Nav.WaypointSymbol), context.Nav.WaypointSymbol)" Typo="Typo.body1">@context.Nav.WaypointSymbol</MudLink>
                </MudTd>
                <MudTd DataLabel="Nav status">
                    <MudText Typo="Typo.body1">@context.Nav.Status</MudText>
                </MudTd>
                <MudTd DataLabel="Flight mode">
                    <MudText Typo="Typo.body1">@context.Nav.FlightMode</MudText>
                </MudTd>
            </RowTemplate>
        </MudTable>
    }
    else
    {
        <MudText Typo="Typo.body1">No ships</MudText>
    }
</MudStack>